(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/awards/awards"],{"291c":function(t,a,e){"use strict";var n=e("f851"),s=e.n(n);s.a},"3d53":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c},s=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return s})},7021:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=s(e("61f8"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{awardsConfig:{chance:!0,lists:[]},awardsList:{},animationData:{},btnDisabled:"",thanksarr:[],chishu:0,mold:1,r_flg:0,myPrizelist:[]}},onLoad:function(){this.initdata(this)},onReady:function(t){},methods:{getmyPrize:function(){var a=this;t.request({url:"",data:{},method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){t.lists.forEach(function(t,e){t.createtime=a.dateformat(t.createtime)}),a.myPrizelist=t.lists,a.r_flg=1}})},openshadow:function(){this.r_flg=1},closeshadow:function(){this.r_flg=0},choosetype:function(t){this.mold=t,this.initdata(this)},initdata:function(a){t.request({url:n.default.config.baseURL+"index.php?act=store&op=store_coupon",data:{},method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t," at pages\\awards\\awards.vue:154"),a.awardsConfig=t.data.datas,a.chishu=t.data.datas.luckdraw;a.awardsConfig.lists.length;for(var e=0;e<=t.data.datas.nothing;e++)e%2==0&&(a.thanksarr.push(e),a.awardsConfig.lists.splice(e,0,{name:"谢谢参与",type:0}));a.awardsConfig.lists.forEach(function(t,a){t.index=a}),console.log(3333," at pages\\awards\\awards.vue:173"),console.log(a.awardsConfig," at pages\\awards\\awards.vue:174"),a.drawAwardRoundel()}})},drawAwardRoundel:function(){for(var t=this.awardsConfig.lists,a=[],e=1/t.length*360,n=0;n<t.length;n++)a.push({turn:n*e+"deg",lineTurn:n*e+e/2+"deg",award:t[n].name,type:t[n].type,id:t[n].type});this.btnDisabled=this.chishu?"":"disabled",this.awardsList=a},playReward:function(){var a=this;0!=this.chishu?t.request({url:n.default.config.baseURL+"index.php?act=member&op=store_CouponDetail&key="+t.getStorageSync("access_token"),data:{},method:"GET",dataType:"json",header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){console.log(e," at pages\\awards\\awards.vue:224");var n=3;a.awardsList.forEach(function(t,a){t.award==e.data.datas.name&&(n=a)});var s=a.awardsConfig.lists,o=4,i=4e3;a.runDeg=a.runDeg||0;a.runDeg;a.runDeg=a.runDeg+(360-a.runDeg%360)+(360*o-n*(360/s.length))+1;var r=t.createAnimation({duration:i,timingFunction:"ease"});r.rotate(a.runDeg).step(),a.animationData=r.export(),a.btnDisabled="disabled";var d=a.awardsConfig,u=d.lists[n].type;a.chishu=a.chishu-1,0!=u?setTimeout(function(){console.log(d.lists[n]," at pages\\awards\\awards.vue:279"),t.showModal({title:"恭喜",content:"获得"+d.lists[n].name+"优惠卷",showCancel:!1,success:function(){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)}}),a.btnDisabled=""}.bind(a),i):setTimeout(function(){t.showModal({title:"很遗憾",content:"没中奖 "+d.lists[n].name,showCancel:!1,success:function(){setTimeout(function(){document.getElementById("zhuanpano").style=""},1e3)}}),a.btnDisabled=""}.bind(a),i)},fail:function(){},complete:function(){}}):t.showToast({title:"抽奖次数已经用完",icon:"none"})}}};a.default=o}).call(this,e("6e42")["default"])},"87e5":function(t,a,e){"use strict";e.r(a);var n=e("3d53"),s=e("bded");for(var o in s)"default"!==o&&function(t){e.d(a,t,function(){return s[t]})}(o);e("291c");var i=e("2877"),r=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,"59a1f644",null);a["default"]=r.exports},bded:function(t,a,e){"use strict";e.r(a);var n=e("7021"),s=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);a["default"]=s.a},f851:function(t,a,e){}},[["8c80","common/runtime","common/vendor"]]]);