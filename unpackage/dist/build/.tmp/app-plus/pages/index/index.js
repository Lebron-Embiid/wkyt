(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{4941:function(e,t,n){"use strict";n.r(t);var o=n("b4f9"),i=n("b372");for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);n("e9c2");var s=n("2877"),c=Object(s["a"])(i["default"],o["a"],o["b"],!1,null,"6a6b16da",null);t["default"]=c.exports},"5a8f":function(e,t,n){},"8c46":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=a(n("61f8"));function a(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{video_id:0,url:"",tag_img:"",poster_img:"http://wkyt.demenk.com/wap/app/poster.jpg",controls:!1,autoplay:!0,progress:!1,member_watch:100,member_video:100,play:!0,title:"20/16",avatar:"",collect:"0",love:"0",comment:"0",share:"0",type:"新惠设计主流款...",info:"高品质制造平台,三体系认证,十环认证 平台,三体系认证十环认证平台,三体系认证,十环认证高品质制造",red_title:"奔驰汽车",red_info:"领导时代，驾驭未来",money:0,red_show:!1,money_show:!1,percent:0,subject:[],current:0,pages:0,page:1,icons:"",subjectList:[],videoContext:"",isPlay:1,isOne:0,wapUrl:"",status:""}},methods:{startPause:function(){console.log("tap"," at pages\\index\\index.vue:91"),1==this.isPlay?(this.videoContext.pause(),this.isPlay=0):(this.videoContext.play(),this.isPlay=1)},open_red:function(){var e=this;i.default.post("index.php?act=video&op=reward",{video_id:this.video_id}).then(function(t){e.money=t.amount,e.red_title="",e.red_info=t.message,e.red_show=!1,e.money_show=!0})},close_money:function(){this.money_show=!1,setTimeout(function(){e.showModal({title:"提示",content:"前往大转盘抽奖？",success:function(t){t.confirm&&e.navigateTo({url:"/pages/awards/awards"})},fail:function(e){console.log(e," at pages\\index\\index.vue:128")}})},500)},toAvatar:function(){e.navigateTo({url:"/pages/business_info/business_info?video_id="+this.video_id})},toCollect:function(){var e=this;i.default.get("index.php?act=video&op=videoCollection",{video_id:this.video_id}).then(function(t){0==t.code&&(e.collect=t.v_star_count)})},toLove:function(){var e=this;i.default.get("index.php?act=video&op=fabulous",{video_id:this.video_id}).then(function(t){0==t.code&&(e.love=t.v_like_count)})},toShare:function(){i.default.get("index.php?act=video&op=forward",{video_id:this.video_id}).then(function(t){0==t.code&&e.share({provider:"weixin",scene:"WXSceneSession",type:4,href:"http://uniapp.dcloud.io/",title:"uni-app分享",summary:"我正在使用HBuilderX开发uni-app，赶紧跟我一起来体验！",imageUrl:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/images/uni@2x.png",mediaUrl:"",success:function(e){console.log("success:"+JSON.stringify(e)," at pages\\index\\index.vue:176"),this.share=t.v_forward_count},fail:function(e){console.log("fail:"+JSON.stringify(e)," at pages\\index\\index.vue:180")}})})},toComment:function(){console.log(this.comment," at pages\\index\\index.vue:188"),console.log(this.video_id," at pages\\index\\index.vue:189"),e.navigateTo({url:"/pages/comment/comment?comment_count="+this.comment+"&video_id="+this.video_id})},touchstart:function(e){o=e.changedTouches[0]},touchmove:function(e){},touchend:function(e){this.getDirect(o,e.changedTouches[0])},touchcancel:function(e){this.getDirect(o,e.changedTouches[0])},getDirect:function(e,t){var n=t.pageX-e.pageX,o=t.pageY-e.pageY;Math.abs(n)>Math.abs(o)&&n>0?console.log("right"," at pages\\index\\index.vue:216"):Math.abs(n)>Math.abs(o)&&n<0?console.log("left"," at pages\\index\\index.vue:219"):Math.abs(o)>Math.abs(n)&&o>0?(console.log("bottom"," at pages\\index\\index.vue:222"),this.pre()):Math.abs(o)>Math.abs(n)&&o<0&&(console.log("top"," at pages\\index\\index.vue:226"),this.next())},loadData:function(){var t=this;e.showLoading({title:"视频加载中..."}),i.default.post("index.php?act=video&op=getOne",{}).then(function(n){console.log(n.v_id," at pages\\index\\index.vue:237"),t.video_id=n.v_id,t.url=n.url,t.avatar=n.store_logo,t.tag_img=n.tag_img,t.type=n.v_title,t.info=n.v_desc,t.collect=n.v_star_count,t.love=n.v_like_count,t.comment=n.v_comment_count,t.share=n.v_forward_count,t.title=n.member_watch+"/"+n.member_video,t.status=n.status,e.hideLoading()})},changeSubject:function(){this.loadData()},timeupdate:function(e){var t=e.detail.currentTime,n=e.detail.duration,o=Math.round(t/n*1e4)/100;this.percent=o},ended:function(){0==this.isOne&&(this.red_show=!0,this.isOne=1)},pre:function(){var e=this;e.changeSubject(e.current-1),e.red_show=!1,e.money_show=!1,e.isPlay=1,e.isOne=0},next:function(){var e=this;e.changeSubject(e.current+1),e.red_show=!1,e.money_show=!1,e.isPlay=1,e.isOne=0}},onLoad:function(){var t=this;t.wapUrl=i.default.config.wapUrl,console.log(t.wapUrl," at pages\\index\\index.vue:303"),t.videoContext=e.createVideoContext("myVideo"),t.loadData()},onShow:function(){this.videoContext.play(),this.isPlay=1},onHide:function(){this.isPlay=0,this.videoContext.pause()},onPullDownRefresh:function(){},onReachBottom:function(){},onPageScroll:function(e){}};t.default=s}).call(this,n("6e42")["default"])},b372:function(e,t,n){"use strict";n.r(t);var o=n("8c46"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=i.a},b4f9:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i})},e9c2:function(e,t,n){"use strict";var o=n("5a8f"),i=n.n(o);i.a}},[["1891","common/runtime","common/vendor"]]]);